/* ─── ROBOWAR V2 — Global Styles ─────────────────────────────────────────── */

@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── CSS Custom Properties ─────────────────────────────────────────────── */
:root {
  /* Element colors */
  --volt:  #00BFFF;   /* Electric blue  */
  --pyro:  #CC2200;   /* Deep red        */
  --cryo:  #E8F4FF;   /* Ice white       */
  --nano:  #00CC44;   /* Toxic green     */
  --void:  #6600AA;   /* Dark purple     */
  --iron:  #888899;   /* Metallic grey   */

  /* Derived glow variants */
  --volt-glow: rgba(0, 191, 255, 0.55);
  --pyro-glow: rgba(204, 34,   0, 0.55);
  --cryo-glow: rgba(232, 244, 255, 0.55);
  --nano-glow: rgba(0,  204,  68, 0.55);
  --void-glow: rgba(102,  0, 170, 0.55);
  --iron-glow: rgba(136, 136, 153, 0.55);

  /* UI palette */
  --bg:        #0A0A14;
  --surface:   #12121E;
  --surface-2: #1A1A2E;
  --border:    #2A2A44;
  --border-2:  #3A3A5A;
  --accent:    #FFD700;
  --text:      #E8E8FF;
  --muted:     #888899;

  /* Pixel sizing */
  --pixel: 2px;
  --tile:  64px;
}

/* ─── Base Reset ─────────────────────────────────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: var(--bg);
  color: var(--text);
  font-family: 'Press Start 2P', monospace;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

#root {
  width: 100%;
  height: 100%;
}

canvas {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* ─── Scrollbar ──────────────────────────────────────────────────────────── */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--surface); }
::-webkit-scrollbar-thumb {
  background: var(--border-2);
  border: 2px solid var(--surface);
}
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* ─── Pixel Components ───────────────────────────────────────────────────── */
@layer components {
  /* Pixel-art border style */
  .pixel-border {
    border: var(--pixel) solid var(--border);
    outline: var(--pixel) solid var(--border-2);
    outline-offset: var(--pixel);
    box-shadow:
      inset var(--pixel) var(--pixel) 0 rgba(255,255,255,0.08),
      4px 4px 0 rgba(0,0,0,0.7);
  }

  /* Panel base */
  .pixel-panel {
    @apply pixel-border;
    background-color: var(--surface);
    padding: 1rem;
  }

  /* Button base */
  .pixel-btn {
    @apply pixel-border font-pixel;
    background-color: var(--surface-2);
    color: var(--text);
    padding: 0.5rem 1rem;
    font-size: 10px;
    line-height: 1.4;
    cursor: pointer;
    user-select: none;
    transition: filter 0.1s, transform 0.1s;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }
  .pixel-btn:hover {
    filter: brightness(1.3);
    outline-color: var(--accent);
    border-color: var(--accent);
  }
  .pixel-btn:active {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.7);
    filter: brightness(0.9);
  }
  .pixel-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    transform: none;
  }

  /* Element accent modifiers */
  .elem-volt  { border-color: var(--volt); color: var(--volt); }
  .elem-pyro  { border-color: var(--pyro); color: var(--pyro); }
  .elem-cryo  { border-color: var(--cryo); color: var(--cryo); }
  .elem-nano  { border-color: var(--nano); color: var(--nano); }
  .elem-void  { border-color: var(--void); color: var(--void); }
  .elem-iron  { border-color: var(--iron); color: var(--iron); }

  /* Scanline CRT overlay */
  .crt-overlay::after {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.08) 2px,
      rgba(0, 0, 0, 0.08) 4px
    );
    z-index: 9999;
  }

  /* Pixel text glow */
  .text-glow-volt { text-shadow: 0 0 8px var(--volt-glow); }
  .text-glow-pyro { text-shadow: 0 0 8px var(--pyro-glow); }
  .text-glow-nano { text-shadow: 0 0 8px var(--nano-glow); }
  .text-glow-void { text-shadow: 0 0 8px var(--void-glow); }
  .text-glow-iron { text-shadow: 0 0 8px var(--iron-glow); }
  .text-glow-cryo { text-shadow: 0 0 8px var(--cryo-glow); }

  /* HP bar segments */
  .hp-bar-inner {
    height: 100%;
    transition: width 0.3s ease-out, background-color 0.3s;
  }
  .hp-high   { background: var(--nano); }
  .hp-mid    { background: var(--volt); }
  .hp-low    { background: var(--pyro); }
  .hp-crit   { background: var(--pyro); animation: pixelPulse 0.6s infinite; }

  /* Energy segments */
  .energy-seg {
    flex: 1;
    height: 100%;
    border-right: 2px solid var(--bg);
    transition: background-color 0.2s;
  }
  .energy-seg.filled { background: var(--volt); }
  .energy-seg.empty  { background: var(--surface); }
}

/* ─── Keyframes ──────────────────────────────────────────────────────────── */
@keyframes pixelPulse {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.4; }
}

@keyframes glowPulse {
  0%, 100% { filter: brightness(1) drop-shadow(0 0 4px currentColor); }
  50%       { filter: brightness(1.6) drop-shadow(0 0 12px currentColor); }
}

@keyframes floatUp {
  0%   { transform: translateY(0);    opacity: 1; }
  100% { transform: translateY(-32px); opacity: 0; }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25%       { transform: translateX(-4px); }
  75%       { transform: translateX(4px); }
}

@keyframes scanline {
  0%   { transform: translateY(-100%); }
  100% { transform: translateY(100vh); }
}
